!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@angular/core"),require("rxjs/Observable"),require("rxjs/Subject"),require("@angular/common"),require("angular2parse"),require("@angular/platform-browser"),require("geodesy"),require("json-string-mapper"),require("primitive-primitives"),require("rxjs/add/observable/from"),require("rxjs/add/observable/merge"),require("rxjs/add/observable/of"),require("rxjs/add/operator/delay"),require("rxjs/add/operator/filter"),require("rxjs/add/operator/map"),require("rxjs/add/operator/merge"),require("rxjs/add/operator/mergeMap"),require("rxjs/add/operator/publish"),require("rxjs/add/operator/switchMap"),require("rxjs/add/operator/takeUntil"));else if("function"==typeof define&&define.amd)define(["@angular/core","rxjs/Observable","rxjs/Subject","@angular/common","angular2parse","@angular/platform-browser","geodesy","json-string-mapper","primitive-primitives","rxjs/add/observable/from","rxjs/add/observable/merge","rxjs/add/observable/of","rxjs/add/operator/delay","rxjs/add/operator/filter","rxjs/add/operator/map","rxjs/add/operator/merge","rxjs/add/operator/mergeMap","rxjs/add/operator/publish","rxjs/add/operator/switchMap","rxjs/add/operator/takeUntil"],t);else{var r="object"==typeof exports?t(require("@angular/core"),require("rxjs/Observable"),require("rxjs/Subject"),require("@angular/common"),require("angular2parse"),require("@angular/platform-browser"),require("geodesy"),require("json-string-mapper"),require("primitive-primitives"),require("rxjs/add/observable/from"),require("rxjs/add/observable/merge"),require("rxjs/add/observable/of"),require("rxjs/add/operator/delay"),require("rxjs/add/operator/filter"),require("rxjs/add/operator/map"),require("rxjs/add/operator/merge"),require("rxjs/add/operator/mergeMap"),require("rxjs/add/operator/publish"),require("rxjs/add/operator/switchMap"),require("rxjs/add/operator/takeUntil")):t(e["@angular/core"],e["rxjs/Observable"],e["rxjs/Subject"],e["@angular/common"],e.angular2parse,e["@angular/platform-browser"],e.geodesy,e["json-string-mapper"],e["primitive-primitives"],e["rxjs/add/observable/from"],e["rxjs/add/observable/merge"],e["rxjs/add/observable/of"],e["rxjs/add/operator/delay"],e["rxjs/add/operator/filter"],e["rxjs/add/operator/map"],e["rxjs/add/operator/merge"],e["rxjs/add/operator/mergeMap"],e["rxjs/add/operator/publish"],e["rxjs/add/operator/switchMap"],e["rxjs/add/operator/takeUntil"]);for(var o in r)("object"==typeof exports?exports:e)[o]=r[o]}}(this,function(e,t,r,o,i,n,c,a,s,u,p,l,f,v,m,d,y,h,b,_){return function(e){function t(o){if(r[o])return r[o].exports;var i=r[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,t,r){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=56)}([function(e,t){e.exports=require("@angular/core")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CesiumService=void 0;var o=r(0),i=r(45),n=r(64);t.CesiumService=function(){function e(e,t,r){this.ngZone=e,this.viewerFactory=t,this.viewConf=r}return e.prototype.init=function(e){var t=this;this.ngZone.runOutsideAngular(function(){var r=t.viewConf?t.viewConf.viewerOptions:void 0;t.cesiumViewer=t.viewerFactory.createViewer(e,r)})},e.prototype.getViewer=function(){return this.cesiumViewer},e.prototype.getScene=function(){return this.cesiumViewer.scene},e.prototype.getMinimumZoom=function(){return this.getScene().screenSpaceCameraController.minimumZoomDistance},e.prototype.setMinimumZoom=function(e){this.getScene().screenSpaceCameraController.minimumZoomDistance=e},e.prototype.getMaximumZoom=function(){return this.getScene().screenSpaceCameraController.maximumZoomDistance},e.prototype.setMaximumZoom=function(e){this.getScene().screenSpaceCameraController.maximumZoomDistance=e},e.prototype.setEnableTilt=function(e){this.getScene().screenSpaceCameraController.enableTilt=e},e.prototype.morphTo2D=function(e){void 0===e&&(e=2),this.getScene().morphTo2D(e)},e.prototype.morphTo3D=function(e){void 0===e&&(e=2),this.getScene().morphTo3D(e)},e.prototype.morphToColumbusView=function(e){void 0===e&&(e=2),this.getScene().morphToColumbusView(e)},e.prototype.flyTo=function(e){this.getViewer().camera.flyTo(e)},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:o.NgZone},{type:i.ViewerFactory},{type:n.ViewerConfiguration,decorators:[{type:o.Optional}]}]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CesiumProperties=void 0;var o=r(0),i=r(40),n=r(48);t.CesiumProperties=function(){function e(e,t){this._parser=e,this._jsonMapper=t,this._assignersCache=new Map,this._evaluatorsCache=new Map}return e.prototype._compile=function(e){var t=this,r=new Map,o=this._jsonMapper.map(e);o.forEach(function(e,o){return r.set(o,{expression:e,get:t._parser.eval(e)})});var i="const cesiumDesc={};for (let [propName, cesiumProp] of propsMap)cesiumDesc[propName ? propName : 'undefined'] = cache.get(cesiumProp.expression.toString(), ()=>propsMap.get(propName).get(context));return cesiumDesc;",n=new Function("propsMap","cache","context",i);return function(e,t){return n(r,e,t)}},e.prototype._build=function(e){var t="",r=this._jsonMapper.map(e);r.forEach(function(e,r){return t+="dst['"+r+"'] = src['"+r+"'];"}),t+="return dst;";var o=new Function("dst","src",""+t);return function(e,t){return o(e,t)}},e.prototype.createEvaluator=function(e){if(this._evaluatorsCache.has(e))return this._evaluatorsCache.get(e);var t=this._compile(e);return this._evaluatorsCache.set(e,t),t},e.prototype.createAssigner=function(e){if(this._assignersCache.has(e))return this._assignersCache.get(e);var t=this._build(e);return this._assignersCache.set(e,t),t},e.prototype.stringifyExpression=function(e){return"'"===e[0]&&"'"===e[e.length-1]?"`"+e+"`":"'"+e+"'"},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:n.Parse},{type:i.JsonMapper}]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComputationCache=void 0;var o=r(0);t.ComputationCache=function(){function e(){this._cache=new Map}return e.prototype.get=function(e,t){if(this._cache.has(e))return this._cache.get(e);var r=t();return this._cache.set(e,r),r},e.prototype.clear=function(){this._cache.clear()},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LayerService=void 0;var o=r(0);t.LayerService=function(){function e(){this.descriptions=[]}return e.prototype.registerDescription=function(e){this.descriptions.push(e)},e.prototype.getDescriptions=function(){return this.descriptions},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicDesc=void 0;var o=r(0);t.BasicDesc=function(){function e(e,t,r,o){this._drawer=e,this._layerService=t,this._computationCache=r,this._cesiumProperties=o,this._primitiveMap=new Map}return e.prototype._propsEvaluator=function(e){return this._propsEvaluateFn(this._computationCache,e)},e.prototype.ngOnInit=function(){this._layerService.registerDescription(this),this._propsEvaluateFn=this._cesiumProperties.createEvaluator(this.props),this._drawer.setPropsAssigner(this._cesiumProperties.createAssigner(this.props))},e.prototype.draw=function(e,t,r){var o=this._propsEvaluator(e);if(this._primitiveMap.has(t)){var i=this._primitiveMap.get(t);this._drawer.update(i,o)}else{var i=this._drawer.add(o);i.acEntity=r,this._primitiveMap.set(t,i)}},e.prototype.remove=function(e){var t=this._primitiveMap.get(e);this._drawer.remove(t),this._primitiveMap["delete"](e)},e.prototype.removeAll=function(){this._primitiveMap.clear(),this._drawer.removeAll()},e.propDecorators={props:[{type:o.Input}]},e}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SimpleDrawerService=function(){function e(e,t){this._showAll=!0,this._cesiumCollection=new e,t.getScene().primitives.add(this._cesiumCollection)}return e.prototype.setPropsAssigner=function(e){this._propsAssigner=e},e.prototype.add=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return e.show=this._showAll,this._cesiumCollection.add(e)},e.prototype.update=function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];this._propsAssigner?this._propsAssigner(e,t):Object.assign(e,t)},e.prototype.remove=function(e){this._cesiumCollection.remove(e)},e.prototype.removeAll=function(){this._cesiumCollection.removeAll()},e.prototype.setShow=function(e){this._showAll=e;for(var t=0;t<this._cesiumCollection.length;t++){var r=this._cesiumCollection.get(t);r.show=e}},e}()},function(e,t){e.exports=require("rxjs/Observable")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicStaticPrimitiveDesc=void 0;var o=r(0),i=r(5),n=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.BasicStaticPrimitiveDesc=function(e){function t(t,r,o,i){e.call(this,t,r,o,i),this._staticPrimitiveDrawer=t}return n(t,e),t.prototype.ngOnInit=function(){this._layerService.registerDescription(this),this._geometryPropsEvaluator=this._cesiumProperties.createEvaluator(this.geometryProps),this._instancePropsEvaluator=this._cesiumProperties.createEvaluator(this.instanceProps),this._primitivePropsEvaluator=this._cesiumProperties.createEvaluator(this.primitiveProps)},t.prototype.draw=function(e,t,r){var o=this._geometryPropsEvaluator(this._computationCache,e),i=this._instancePropsEvaluator(this._computationCache,e),n=this._primitivePropsEvaluator(this._computationCache,e);if(this._primitiveMap.has(t)){var c=this._primitiveMap.get(t);this._staticPrimitiveDrawer.update(c,o,i,n)}else{var c=this._staticPrimitiveDrawer.add(o,i,n);c.acEntity=r,this._primitiveMap.set(t,c)}},t.propDecorators={geometryProps:[{type:o.Input}],instanceProps:[{type:o.Input}],primitiveProps:[{type:o.Input}]},t}(i.BasicDesc)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BillboardDrawerService=void 0;var o=r(0),i=r(6),n=r(1),c=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.BillboardDrawerService=function(e){function t(t){e.call(this,Cesium.BillboardCollection,t)}return c(t,e),t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:n.CesiumService}]},t}(i.SimpleDrawerService)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StaticPrimitiveDrawer=void 0;var o=r(6),i=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.StaticPrimitiveDrawer=function(e){function t(t,r){e.call(this,Cesium.PrimitiveCollection,r),this.geometryType=t}return i(t,e),t.prototype.add=function(t,r,o){return r.geometry=new this.geometryType(t),o.geometryInstances=new Cesium.GeometryInstance(r),e.prototype.add.call(this,new Cesium.Primitive(o))},t.prototype.update=function(e,t,r,o){},t}(o.SimpleDrawerService)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicEllipseDrawerService=void 0;var o=r(1),i=r(0),n=r(6),c=r(70),a=r(46),s=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.DynamicEllipseDrawerService=function(e){function t(t){e.call(this,Cesium.PrimitiveCollection,t)}return s(t,e),t.prototype.add=function(t){return a.Checker.throwIfAnyNotPresent(t,["center","semiMajorAxis","semiMinorAxis","rotation"]),e.prototype.add.call(this,new c.EllipsePrimitive(t))},t.prototype.update=function(e,t){return e.updateLocationData(t),e},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:o.CesiumService}]},t}(n.SimpleDrawerService)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.CesiumEvent=void 0;!function(e){e[e.MOUSE_MOVE=Cesium.ScreenSpaceEventType.MOUSE_MOVE]="MOUSE_MOVE",e[e.LEFT_CLICK=Cesium.ScreenSpaceEventType.LEFT_CLICK]="LEFT_CLICK",e[e.LEFT_DOUBLE_CLICK=Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK]="LEFT_DOUBLE_CLICK",e[e.LEFT_DOWN=Cesium.ScreenSpaceEventType.LEFT_DOWN]="LEFT_DOWN",e[e.LEFT_UP=Cesium.ScreenSpaceEventType.LEFT_UP]="LEFT_UP",e[e.MIDDLE_CLICK=Cesium.ScreenSpaceEventType.MIDDLE_CLICK]="MIDDLE_CLICK",e[e.MIDDLE_DOUBLE_CLICK=Cesium.ScreenSpaceEventType.MIDDLE_DOUBLE_CLICK]="MIDDLE_DOUBLE_CLICK",e[e.MIDDLE_DOWN=Cesium.ScreenSpaceEventType.MIDDLE_DOWN]="MIDDLE_DOWN",e[e.MIDDLE_UP=Cesium.ScreenSpaceEventType.MIDDLE_UP]="MIDDLE_UP",e[e.PINCH_START=Cesium.ScreenSpaceEventType.PINCH_START]="PINCH_START",e[e.PINCH_END=Cesium.ScreenSpaceEventType.PINCH_END]="PINCH_END",e[e.PINCH_MOVE=Cesium.ScreenSpaceEventType.PINCH_MOVE]="PINCH_MOVE",e[e.RIGHT_CLICK=Cesium.ScreenSpaceEventType.RIGHT_CLICK]="RIGHT_CLICK",e[e.RIGHT_DOUBLE_CLICK=Cesium.ScreenSpaceEventType.RIGHT_DOUBLE_CLICK]="RIGHT_DOUBLE_CLICK",e[e.RIGHT_DOWN=Cesium.ScreenSpaceEventType.RIGHT_DOWN]="RIGHT_DOWN",e[e.RIGHT_UP=Cesium.ScreenSpaceEventType.RIGHT_UP]="RIGHT_UP",e[e.WHEEL=Cesium.ScreenSpaceEventType.WHEEL]="WHEEL",e[e.LONG_LEFT_PRESS=110]="LONG_LEFT_PRESS",e[e.LONG_RIGHT_PRESS=111]="LONG_RIGHT_PRESS",e[e.LONG_MIDDLE_PRESS=112]="LONG_MIDDLE_PRESS"}(r||(t.CesiumEvent=r={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlonterService=void 0;var o=r(0),i=r(14);t.PlonterService=function(){function e(){this._entitesToPlonter=[],this._plonterChangeNotifier=new o.EventEmitter,this._plonterObserver=new i.Subject}return Object.defineProperty(e.prototype,"plonterChangeNotifier",{get:function(){return this._plonterChangeNotifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plonterShown",{get:function(){return this._plonterShown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entitesToPlonter",{get:function(){return this._entitesToPlonter},enumerable:!0,configurable:!0}),e.prototype.plonterIt=function(e){return this._eventResult=e,this._entitesToPlonter=e.entities,this._plonterShown=!0,this._plonterChangeNotifier.emit(),this._plonterObserver},e.prototype.resolvePlonter=function(e){this._plonterShown=!1,this._eventResult.entities=[e],this._plonterChangeNotifier.emit(),this._plonterObserver.next(this._eventResult)},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[]},e}()},function(e,t){e.exports=require("rxjs/Subject")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PixelOffsetPipe=void 0;var o=r(0);t.PixelOffsetPipe=function(){function e(){}return e.prototype.transform=function(e,t){return new Cesium.Cartesian2(e[0],e[1])},e.decorators=[{type:o.Pipe,args:[{name:"pixelOffset"}]}],e.ctorParameters=function(){return[]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcArcDescComponent=void 0;var o=r(0),i=r(4),n=r(2),c=r(3),a=r(31),s=r(5),u=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.AcArcDescComponent=function(e){function t(t,r,o,i){e.call(this,t,r,o,i)}return u(t,e),t.decorators=[{type:o.Component,args:[{selector:"ac-arc-desc",template:""}]}],t.ctorParameters=function(){return[{type:a.ArcDrawerService},{type:i.LayerService},{type:c.ComputationCache},{type:n.CesiumProperties}]},t}(s.BasicDesc)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcBillboardComponent=void 0;var o=r(0),i=r(9);t.AcBillboardComponent=function(){function e(e){this.billboardDrawer=e,this.key=Symbol()}return e.prototype.ngOnChanges=function(e){var t=e.props;t.currentValue!==t.previousValue},e.decorators=[{type:o.Component,args:[{selector:"ac-billboard",template:""}]}],e.ctorParameters=function(){return[{type:i.BillboardDrawerService}]},e.propDecorators={props:[{type:o.Input}]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcBillboardDescComponent=void 0;var o=r(0),i=r(5),n=r(4),c=r(9),a=r(3),s=r(2),u=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.AcBillboardDescComponent=function(e){function t(t,r,o,i){e.call(this,t,r,o,i)}return u(t,e),t.decorators=[{type:o.Component,args:[{selector:"ac-billboard-desc",template:""}]}],t.ctorParameters=function(){return[{type:c.BillboardDrawerService},{type:n.LayerService},{type:a.ComputationCache},{type:s.CesiumProperties}]},t}(i.BasicDesc)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcDynamicCircleDescComponent=void 0;var o=r(0),i=r(2),n=r(3),c=r(4),a=r(5),s=r(11),u=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.AcDynamicCircleDescComponent=function(e){function t(t,r,o,i){e.call(this,t,r,o,i)}return u(t,e),t.prototype._propsEvaluator=function(t){var r=e.prototype._propsEvaluator.call(this,t);return r.semiMajorAxis=r.radius,r.semiMinorAxis=r.radius,r},t.decorators=[{type:o.Component,args:[{selector:"ac-dynamic-circle-desc",template:""}]}],t.ctorParameters=function(){return[{type:s.DynamicEllipseDrawerService},{type:c.LayerService},{type:n.ComputationCache},{type:i.CesiumProperties}]},t}(a.BasicDesc)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcDynamicEllipseDescComponent=void 0;var o=r(0),i=r(2),n=r(3),c=r(4),a=r(5),s=r(11),u=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.AcDynamicEllipseDescComponent=function(e){function t(t,r,o,i){e.call(this,t,r,o,i)}return u(t,e),t.decorators=[{type:o.Component,args:[{selector:"ac-dynamic-ellipse-desc",template:""}]}],t.ctorParameters=function(){return[{type:s.DynamicEllipseDrawerService},{type:c.LayerService},{type:n.ComputationCache},{type:i.CesiumProperties}]},t}(a.BasicDesc)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcDynamicPolylineDescComponent=void 0;var o=r(0),i=r(5),n=r(4),c=r(32),a=r(3),s=r(2),u=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.AcDynamicPolylineDescComponent=function(e){function t(t,r,o,i){e.call(this,t,r,o,i)}return u(t,e),t.decorators=[{type:o.Component,args:[{selector:"ac-dynamic-polyline-desc",template:""}]}],t.ctorParameters=function(){return[{type:c.DynamicPolylineDrawerService},{type:n.LayerService},{type:a.ComputationCache},{type:s.CesiumProperties}]},t}(i.BasicDesc)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcLabelDescComponent=void 0;var o=r(0),i=r(5),n=r(2),c=r(3),a=r(4),s=r(34),u=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.AcLabelDescComponent=function(e){function t(t,r,o,i){e.call(this,t,r,o,i)}return u(t,e),t.decorators=[{type:o.Component,args:[{selector:"ac-label-desc",template:""}]}],t.ctorParameters=function(){return[{type:s.LabelDrawerService},{type:a.LayerService},{type:c.ComputationCache},{type:n.CesiumProperties}]},t}(i.BasicDesc)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcLayerComponent=void 0;var o=r(9),i=r(0),n=r(7),c=r(14),a=r(4),s=r(29),u=r(3),p=r(34),l=r(37),f=r(33),v=r(11),m=r(32),d=r(38),y=r(36),h=r(31),b=r(35);t.AcLayerComponent=function(){function e(e,t,r,o,i,n,a,s,u,p,l,f){this.layerService=e,this._computationCache=t,this.show=!0,this._drawerList=[],this._updateStream=new c.Subject,this._drawerList=Array.of(r,o,i,n,a,s,u,p,l,f)}return e.prototype.init=function(){var e=this;this.initValidParams(),this.observable.merge(this._updateStream).subscribe(function(t){e._computationCache.clear(),e.context[e.entityName]=t.entity,e.layerService.getDescriptions().forEach(function(r){switch(t.actionType){case s.ActionType.ADD_UPDATE:r.draw(e.context,t.id,t.entity);break;case s.ActionType.DELETE:r.remove(t.id);break;default:console.error("unknown action type: "+t.actionType)}})})},e.prototype.initValidParams=function(){if(!this.context)throw new Error("ac-layer: must initialize [context] ");if(!e.acForRgx.test(this.acFor))throw new Error("ac-layer: must initialize [acFor] with a valid syntax ' [acFor]=\"let item of observer$\" ' instead received: "+this.acFor);var t=this.acFor.split(" ");if(this.observable=this.context[t[3]],this.entityName=t[1],!(this.observable&&this.observable instanceof n.Observable))throw new Error("ac-layer: must initailize [acFor] with rx observable, instead received: "+this.observable)},e.prototype.ngAfterContentInit=function(){this.init()},e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){if(e.show){var t=e.show.currentValue;this._drawerList.forEach(function(e){return e.setShow(t)})}},e.prototype.removeAll=function(){this.layerService.getDescriptions().forEach(function(e){return e.removeAll()})},e.prototype.remove=function(e){this._updateStream.next({id:e,actionType:s.ActionType.DELETE})},e.prototype.update=function(e){this._updateStream.next(e)},e.prototype.refreshAll=function(e){var t=this;n.Observable.from(e).subscribe(function(e){return t._updateStream.next(e)})},e.acForRgx=/^let\s+.+\s+of\s+.+$/,e.decorators=[{type:i.Component,args:[{selector:"ac-layer",template:"",providers:[a.LayerService,u.ComputationCache,o.BillboardDrawerService,p.LabelDrawerService,f.EllipseDrawerService,v.DynamicEllipseDrawerService,m.DynamicPolylineDrawerService,l.StaticCircleDrawerService,d.StaticPolylineDrawerService,y.PolygonDrawerService,h.ArcDrawerService,b.PointDrawerService]}]}],e.ctorParameters=function(){return[{type:a.LayerService},{type:u.ComputationCache},{type:o.BillboardDrawerService},{type:p.LabelDrawerService},{type:f.EllipseDrawerService},{type:v.DynamicEllipseDrawerService},{type:m.DynamicPolylineDrawerService},{type:l.StaticCircleDrawerService},{type:d.StaticPolylineDrawerService},{type:y.PolygonDrawerService},{type:h.ArcDrawerService},{type:b.PointDrawerService}]},e.propDecorators={show:[{type:i.Input}],acFor:[{type:i.Input}],context:[{type:i.Input}]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcMapComponent=void 0;var o=r(0),i=r(67),n=r(1),c=r(9),a=r(44),s=r(41),u=r(13);t.AcMapComponent=function(){function e(t,r,o){this._cesiumService=t,this._elemRef=r,this.document=o,this.minimumZoom=e.DEFAULT_MINIMUM_ZOOM,this.maximumZoom=e.DEFAULT_MAXIMUM_ZOOM,this.enableTilt=e.DEFAULT_TILT_ENABLE;var i=this.document.createElement("div");this._elemRef.nativeElement.appendChild(i),this._cesiumService.init(i)}return e.prototype.ngOnInit=function(){this._cesiumService.setMinimumZoom(this.minimumZoom),this._cesiumService.setMaximumZoom(this.maximumZoom),this._cesiumService.setEnableTilt(this.enableTilt)},e.prototype.ngOnChanges=function(e){e.flyTo&&this._cesiumService.flyTo(e.flyTo.currentValue)},e.DEFAULT_MINIMUM_ZOOM=1,e.DEFAULT_MAXIMUM_ZOOM=Number.POSITIVE_INFINITY,e.DEFAULT_TILT_ENABLE=!0,e.decorators=[{type:o.Component,args:[{selector:"ac-map",template:"<ng-content></ng-content>",providers:[n.CesiumService,c.BillboardDrawerService,s.CesiumEventBuilder,a.MapEventsManagerService,u.PlonterService]}]}],e.ctorParameters=function(){return[{type:n.CesiumService},{type:o.ElementRef},{type:void 0,decorators:[{type:o.Inject,args:[i.DOCUMENT]}]}]},e.propDecorators={minimumZoom:[{type:o.Input}],maximumZoom:[{type:o.Input}],enableTilt:[{type:o.Input}],flyTo:[{type:o.Input}]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcStaticCircleDescComponent=void 0;var o=r(0),i=r(4),n=r(37),c=r(3),a=r(2),s=r(8),u=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.AcStaticCircleDescComponent=function(e){function t(t,r,o,i){e.call(this,t,r,o,i)}return u(t,e),t.decorators=[{type:o.Component,args:[{selector:"ac-static-circle",template:""}]}],t.ctorParameters=function(){return[{type:n.StaticCircleDrawerService},{type:i.LayerService},{type:c.ComputationCache},{type:a.CesiumProperties}]},t}(s.BasicStaticPrimitiveDesc)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcStaticEllipseDescComponent=void 0;var o=r(0),i=r(4),n=r(33),c=r(3),a=r(2),s=r(8),u=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.AcStaticEllipseDescComponent=function(e){function t(t,r,o,i){e.call(this,t,r,o,i)}return u(t,e),t.decorators=[{type:o.Component,args:[{selector:"ac-static-ellipse-desc",template:""}]}],t.ctorParameters=function(){return[{type:n.EllipseDrawerService},{type:i.LayerService},{type:c.ComputationCache},{type:a.CesiumProperties}]},t}(s.BasicStaticPrimitiveDesc)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcStaticPolygonDescComponent=void 0;var o=r(0),i=r(4),n=r(36),c=r(3),a=r(2),s=r(8),u=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.AcStaticPolygonDescComponent=function(e){function t(t,r,o,i){e.call(this,t,r,o,i)}return u(t,e),t.decorators=[{type:o.Component,args:[{selector:"ac-static-polygon-desc",template:""}]}],t.ctorParameters=function(){return[{type:n.PolygonDrawerService},{type:i.LayerService},{type:c.ComputationCache},{type:a.CesiumProperties}]},t}(s.BasicStaticPrimitiveDesc)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcStaticPolylineDescComponent=void 0;var o=r(0),i=r(38),n=r(4),c=r(2),a=r(3),s=r(8),u=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.AcStaticPolylineDescComponent=function(e){function t(t,r,o,i){e.call(this,t,r,o,i)}return u(t,e),t.decorators=[{type:o.Component,args:[{selector:"ac-static-polyline-desc",template:""}]}],t.ctorParameters=function(){return[{type:i.StaticPolylineDrawerService},{type:n.LayerService},{type:a.ComputationCache},{type:c.CesiumProperties}]},t}(s.BasicStaticPrimitiveDesc)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.ActionType=void 0;!function(e){e[e.ADD_UPDATE=0]="ADD_UPDATE",e[e.DELETE=1]="DELETE"}(r||(t.ActionType=r={}))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.MapLayerProviderOptions=void 0;!function(e){e[e.ArcGisMapServer=0]="ArcGisMapServer",e[e.WebMapTileService=1]="WebMapTileService",e[e.WebMapService=2]="WebMapService",e[e.OFFLINE=3]="OFFLINE"}(r||(t.MapLayerProviderOptions=r={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArcDrawerService=void 0;var o=r(6),i=r(0),n=r(1),c=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.ArcDrawerService=function(e){function t(t){e.call(this,Cesium.PrimitiveCollection,t)}return c(t,e),t.prototype.add=function(t){var r=this.generatePositions(t),o=Cesium.Material.fromType("Color");return o.uniforms.color=t.color||Cesium.Color.WHITE,e.prototype.add.call(this,new Cesium.Primitive({geometryInstances:new Cesium.GeometryInstance({geometry:new Cesium.PolylineGeometry({positions:r})}),appearance:new Cesium.PolylineMaterialAppearance({material:o})}))},t.prototype.generatePositions=function(e){for(var t=[],r=.004,o=1/(e.granularity||r),i=0;i<o+1;i++){var n=e.angle+e.delta*i/o,c=e.radius/Cesium.Ellipsoid.WGS84.maximumRadius,a=Cesium.Cartographic.fromCartesian(e.center).latitude,s=Cesium.Cartographic.fromCartesian(e.center).longitude,u=Math.asin(Math.sin(a)*Math.cos(c)+Math.cos(a)*Math.sin(c)*Math.cos(n)),p=s+Math.atan2(Math.sin(n)*Math.sin(c)*Math.cos(a),Math.cos(c)-Math.sin(a)*Math.sin(u));p=(p+3*Math.PI)%(2*Math.PI)-Math.PI,t.push(Cesium.Cartesian3.fromRadians(p,u))}return t},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:n.CesiumService}]},t}(o.SimpleDrawerService)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicPolylineDrawerService=void 0;var o=r(0),i=r(6),n=r(1),c=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.DynamicPolylineDrawerService=function(e){function t(t){e.call(this,Cesium.PolylineCollection,t)}return c(t,e),t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:n.CesiumService}]},t}(i.SimpleDrawerService)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EllipseDrawerService=void 0;var o=r(0),i=r(1),n=r(10),c=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.EllipseDrawerService=function(e){function t(t){e.call(this,Cesium.EllipseGeometry,t)}return c(t,e),t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:i.CesiumService}]},t}(n.StaticPrimitiveDrawer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LabelDrawerService=void 0;var o=r(0),i=r(1),n=r(6),c=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.LabelDrawerService=function(e){function t(t){e.call(this,Cesium.LabelCollection,t)}return c(t,e),t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:i.CesiumService}]},t}(n.SimpleDrawerService)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PointDrawerService=void 0;var o=r(0),i=r(6),n=r(1),c=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.PointDrawerService=function(e){function t(t){e.call(this,Cesium.PointPrimitiveCollection,t)}return c(t,e),t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:n.CesiumService}]},t}(i.SimpleDrawerService)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PolygonDrawerService=void 0;var o=r(0),i=r(1),n=r(10),c=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.PolygonDrawerService=function(e){function t(t){e.call(this,Cesium.PolygonGeometry,t)}return c(t,e),t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:i.CesiumService}]},t}(n.StaticPrimitiveDrawer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StaticCircleDrawerService=void 0;var o=r(0),i=r(1),n=r(10),c=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.StaticCircleDrawerService=function(e){function t(t){e.call(this,Cesium.CircleGeometry,t)}return c(t,e),t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){
return[{type:i.CesiumService}]},t}(n.StaticPrimitiveDrawer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StaticPolylineDrawerService=void 0;var o=r(0),i=r(1),n=r(10),c=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.StaticPolylineDrawerService=function(e){function t(t){e.call(this,Cesium.PolylineGeometry,t)}return c(t,e),t.prototype.update=function(e,t,r,o){var i=r.attributes.color.value;return e.ready?e.getGeometryInstanceAttributes().color=i:Cesium.when(e.readyPromise).then(function(e){e.getGeometryInstanceAttributes().color.value=i}),e},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:i.CesiumService}]},t}(n.StaticPrimitiveDrawer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeoUtilsService=void 0;var o=r(0),i=r(1);t.GeoUtilsService=function(){function e(e){this.cesiumService=e}return e.prototype.pointByLocationDistanceAndAzimuth=function(e,t,r,o){void 0===o&&(o=!1);var i=t/Cesium.Ellipsoid.WGS84.maximumRadius,n=o?Cesium.Cartographic.fromCartesian(e).latitude:e.latitude,c=o?Cesium.Cartographic.fromCartesian(e).longitude:e.longitude,a=Math.asin(Math.sin(n)*Math.cos(i)+Math.cos(n)*Math.sin(i)*Math.cos(r)),s=c+Math.atan2(Math.sin(r)*Math.sin(i)*Math.cos(n),Math.cos(i)-Math.sin(n)*Math.sin(a));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,Cesium.Cartesian3.fromRadians(s,a)},e.prototype.screenPositionToCartesian3=function(e){var t=this.cesiumService.getViewer().camera;return t.pickEllipsoid(e)},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:i.CesiumService}]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonMapper=void 0;var o=r(0),i=r(69);t.JsonMapper=function(){function e(){this._mapper=new i.JsonStringMapper}return e.prototype.map=function(e){return this._mapper.map(e)},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CesiumEventBuilder=void 0;var o=r(1),i=r(12),n=r(0),c=r(42),a=r(59);t.CesiumEventBuilder=function(){function e(e){this.cesiumEventsObservables=new Map,this.eventsHandler=e.getViewer().screenSpaceEventHandler}return e.getEventFullName=function(e,t){return t?e+"_"+t:e.toString()},e.prototype.get=function(t,r){void 0===r&&(r=void 0);var o=e.getEventFullName(t,r);if(this.cesiumEventsObservables.has(o))return this.cesiumEventsObservables.get(o);var i=this.createCesiumEventObservable(t,r);return this.cesiumEventsObservables.set(o,i),i},e.prototype.createCesiumEventObservable=function(t,r){var o=void 0;return o=e.longPressEvents.has(t)?this.createSpecialCesiumEventObservable(t,r):new c.CesiumPureEventObserver(t,r).init(this.eventsHandler).publish(),o.connect(),o},e.prototype.createSpecialCesiumEventObservable=function(e,t){return new a.CesiumLongPressObserver(e,t,this).init()},e.longPressEvents=new Set([i.CesiumEvent.LONG_LEFT_PRESS,i.CesiumEvent.LONG_RIGHT_PRESS,i.CesiumEvent.LONG_MIDDLE_PRESS]),e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:o.CesiumService}]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CesiumPureEventObserver=void 0;var o=r(7);t.CesiumPureEventObserver=function(){function e(e,t){this.event=e,this.modifier=t}return e.prototype.init=function(e){var t=this;return this.observer=o.Observable.create(function(r){e.setInputAction(function(e){e.position&&(e.startPosition=e.position,e.endPosition=e.position),r.next(e)},t.event,t.modifier)}),this.observer},e}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.PickOptions=void 0;!function(e){e[e.NO_PICK=0]="NO_PICK",e[e.PICK_FIRST=1]="PICK_FIRST",e[e.PICK_ONE=2]="PICK_ONE",e[e.PICK_ALL=3]="PICK_ALL"}(r||(t.PickOptions=r={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapEventsManagerService=void 0;var o=r(0),i=r(14),n=r(7),c=r(1),a=r(41),s=r(43),u=r(66),p=r(13),l=(t.MapEventsManagerService=function(){function e(e,t,r){this.eventBuilder=t,this.plonterService=r,this.eventRegistrations=new Map,this.scene=e.getScene()}return e.prototype.register=function(e){var t=this;if(void 0===this.scene)throw new Error("CesiumService has not been initialized yet - MapEventsManagerService must be injected  under ac-map");if(e.pick=e.pick||s.PickOptions.NO_PICK,e.priority=e.priority||0,e.entityType&&e.pick===s.PickOptions.NO_PICK)throw new Error("MapEventsManagerService: can't register an event with entityType and PickOptions.NO_PICK - It doesn't make sense ");var r=a.CesiumEventBuilder.getEventFullName(e.event,e.modifier);this.eventRegistrations.has(r)||this.eventRegistrations.set(r,[]);var o=this.createEventRegistration(e.event,e.modifier,e.entityType,e.pick,e.priority),i=o.observable;return i.dispose=function(){return t.disposeObservable(o,r)},this.eventRegistrations.get(r).push(o),this.sortRegistrationsByPriority(r),i},e.prototype.disposeObservable=function(e,t){e.stopper.next(1);var r=this.eventRegistrations.get(t),o=r.indexOf(e);o!==-1&&r.splice(o,1),this.sortRegistrationsByPriority(t)},e.prototype.sortRegistrationsByPriority=function(e){var t=this.eventRegistrations.get(e);if(t.sort(function(e,t){return t.priority-e.priority}),0!==t.length){var r=t[0].priority;t.forEach(function(e){e.isPaused=e.priority<r})}},e.prototype.createEventRegistration=function(e,t,r,o,n){var c,a=this,s=this.eventBuilder.get(e,t),u=new i.Subject,p=new l((void 0),u,n,(!1));return c=s.filter(function(){return!p.isPaused}).map(function(e){return a.triggerPick(e,o)}).filter(function(e){return null!==e.primitives}).map(function(e){return a.addEntities(e,r,o)}).filter(function(e){return null!==e.entities}).switchMap(function(e){return a.plonter(e,o)}).takeUntil(u),p.observable=c,p},e.prototype.triggerPick=function(e,t){var r=[];switch(t){case s.PickOptions.PICK_ONE:case s.PickOptions.PICK_ALL:r=this.scene.drillPick(e.endPosition),r=0===r.length?null:r;break;case s.PickOptions.PICK_FIRST:var o=this.scene.pick(e.endPosition);r=void 0===o?null:[o];break;case s.PickOptions.NO_PICK:}return{movement:e,primitives:r}},e.prototype.addEntities=function(e,t,r){var o=[];return r!==s.PickOptions.NO_PICK&&(o=t?e.primitives.map(function(e){return e.primitive.acEntity}).filter(function(e){return e&&e instanceof t}):e.primitives.map(function(e){return e.primitive.acEntity}),o=u.UtilsService.unique(o),0===o.length&&(o=null)),Object.assign(e,{entities:o})},e.prototype.plonter=function(e,t){return t===s.PickOptions.PICK_ONE&&e.entities.length>1?this.plonterService.plonterIt(e):n.Observable.of(e)},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:c.CesiumService},{type:a.CesiumEventBuilder},{type:p.PlonterService}]},e}(),function(){function e(e,t,r,o){this.observable=e,this.stopper=t,this.priority=r,this.isPaused=o}return e}())},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewerFactory=void 0;var o=r(0);t.ViewerFactory=function(){function e(){this.cesium=Cesium}return e.prototype.createViewer=function(e,t){return window.CESIUM_BASE_URL="/node_modules/cesium/Build/Cesium",t?new this.cesium.Viewer(e,t):new this.cesium.Viewer(e,{imageryProvider:Cesium.createTileMapServiceImageryProvider({url:Cesium.buildModuleUrl("Assets/Textures/NaturalEarthII")}),baseLayerPicker:!1,geocoder:!1})},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[]},e}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Checker=function(){function e(){}return e.throwIfAnyNotPresent=function(t,r){r.forEach(function(r){return e.throwIfNotPresent(t,r)})},e.throwIfNotPresent=function(t,r){if(!e.present(t[r]))throw new Error("Error: "+r+" was not given.")},e.present=function(e){return void 0!==e&&null!==e},e}()},function(e,t){e.exports=require("@angular/common")},function(e,t){e.exports=require("angular2parse")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AngularCesiumModule=void 0;var o=r(0),i=r(47),n=r(24),c=r(23),a=r(17),s=r(18),u=r(26),p=r(20),l=r(21),f=r(25),v=r(27),m=r(48),d=r(15),y=r(40),h=r(2),b=r(22),_=r(65),P=r(28),C=r(45),O=r(39),S=r(19),g=r(16),E=r(54),M=r(55);t.AngularCesiumModule=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{imports:[i.CommonModule,m.Angular2ParseModule,_.UtilsModule],declarations:[n.AcMapComponent,c.AcLayerComponent,a.AcBillboardComponent,s.AcBillboardDescComponent,b.AcLabelDescComponent,u.AcStaticEllipseDescComponent,p.AcDynamicEllipseDescComponent,l.AcDynamicPolylineDescComponent,v.AcStaticPolygonDescComponent,d.PixelOffsetPipe,f.AcStaticCircleDescComponent,S.AcDynamicCircleDescComponent,P.AcStaticPolylineDescComponent,g.AcArcDescComponent,E.AcMapLayerProviderComponent,M.AcPointDescComponent],exports:[n.AcMapComponent,a.AcBillboardComponent,s.AcBillboardDescComponent,b.AcLabelDescComponent,u.AcStaticEllipseDescComponent,p.AcDynamicEllipseDescComponent,l.AcDynamicPolylineDescComponent,v.AcStaticPolygonDescComponent,c.AcLayerComponent,f.AcStaticCircleDescComponent,S.AcDynamicCircleDescComponent,P.AcStaticPolylineDescComponent,g.AcArcDescComponent,E.AcMapLayerProviderComponent,M.AcPointDescComponent],providers:[y.JsonMapper,h.CesiumProperties,O.GeoUtilsService,C.ViewerFactory]}]}],e.ctorParameters=function(){return[]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(24);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=r(23);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var n=r(16);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var c=r(17);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var a=r(18);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var s=r(19);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var u=r(20);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var p=r(21);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})});var l=r(22);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})});var f=r(25);Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})});var v=r(26);Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}})});var m=r(27);Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}})});var d=r(28);Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(57);Object.defineProperty(t,"AcEntity",{enumerable:!0,get:function(){return o.AcEntity}});var i=r(29);Object.defineProperty(t,"ActionType",{enumerable:!0,get:function(){return i.ActionType}});var n=r(30);Object.defineProperty(t,"MapLayerProviderOptions",{enumerable:!0,get:function(){return n.MapLayerProviderOptions}})},function(e,t,r){"use strict";r(75),r(76),r(73),r(80),r(81),r(78),r(74),r(79),r(77),r(71),r(72)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(63);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=r(1);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var n=r(58);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var c=r(39);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var a=r(13);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcMapLayerProviderComponent=void 0;var o=r(0),i=r(1),n=r(30),c=r(46);t.AcMapLayerProviderComponent=function(){function e(e){this.cesiumService=e,this.options={},this.provider=n.MapLayerProviderOptions.OFFLINE}return e.createWebMapServiceProvider=function(e){return new Cesium.WebMapServiceImageryProvider(e)},e.createWebMapTileServiceProvider=function(e){return new Cesium.WebMapTileServiceImageryProvider(e)},e.createArcGisMapServerProvider=function(e){return new Cesium.ArcGisMapServerImageryProvider(e)},e.createOfflineMapProvider=function(){return Cesium.createTileMapServiceImageryProvider({url:Cesium.buildModuleUrl("Assets/Textures/NaturalEarthII")})},e.prototype.ngOnInit=function(){if(!c.Checker.present(this.options.url)&&this.provider!==n.MapLayerProviderOptions.OFFLINE)throw new Error("options must have a url");var t;switch(this.provider){case n.MapLayerProviderOptions.WebMapService:t=e.createWebMapServiceProvider(this.options);break;case n.MapLayerProviderOptions.WebMapTileService:t=e.createWebMapTileServiceProvider(this.options);break;case n.MapLayerProviderOptions.ArcGisMapServer:t=e.createArcGisMapServerProvider(this.options);break;case n.MapLayerProviderOptions.OFFLINE:break;default:t=e.createOfflineMapProvider()}this.cesiumService.getScene().imageryLayers.addImageryProvider(t,this.index)},e.decorators=[{type:o.Component,args:[{selector:"ac-map-layer-provider",template:""}]}],e.ctorParameters=function(){return[{type:i.CesiumService}]},e.propDecorators={options:[{type:o.Input}],provider:[{type:o.Input}],index:[{type:o.Input}]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcPointDescComponent=void 0;var o=r(0),i=r(5),n=r(4),c=r(35),a=r(3),s=r(2),u=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.AcPointDescComponent=function(e){function t(t,r,o,i){e.call(this,t,r,o,i)}return u(t,e),t.decorators=[{type:o.Component,args:[{selector:"ac-point-desc",template:""}]}],t.ctorParameters=function(){return[{type:c.PointDrawerService},{type:n.LayerService},{type:a.ComputationCache},{type:s.CesiumProperties}]},t}(i.BasicDesc)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(49);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=r(51);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var n=r(50);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var c=r(53);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var a=r(15);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}),r(52)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AcEntity=function(){function e(){}return e.create=function(t){return t?Object.assign(new e,t):new e},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoordinateConverter=void 0;var o=r(0),i=r(1),n=r(68),c=n.Utm,a=n.LatLonEllipsoidal;t.CoordinateConverter=function(){function e(e){this.cesiumService=e}return e.prototype.screenToCartesian3=function(e){if(this.cesiumService){var t=this.cesiumService.getViewer().camera;return t.pickEllipsoid(e)}throw new Error("ANGULAR2-CESIUM - Cesium service should be provided in order to do screen position calculations")},e.prototype.screenToCartographic=function(e,t){return this.cartesian3ToCartographic(this.screenToCartesian3(e),t)},e.prototype.cartesian3ToCartographic=function(e,t){return Cesium.Cartographic.fromCartesian(e,t)},e.prototype.degreesToCartographic=function(e,t,r){return Cesium.Cartographic.fromDegrees(e,t,r)},e.prototype.radiansToCartographic=function(e,t,r){return Cesium.Cartographic.fromRadians(e,t,r)},e.prototype.degreesToUTM=function(e,t,r){return new a(t,e,(void 0),r).toUtm()},e.prototype.UTMToDegrees=function(e,t,r,o){return this.geodesyToCesiumObject(new c(e,t,r,o).toLatLonE())},e.prototype.geodesyToCesiumObject=function(e){return{longitude:e.lon,latitude:e.lat,height:e.height?e.height:0}},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:i.CesiumService,decorators:[{type:o.Optional}]}]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CesiumLongPressObserver=void 0;var o=r(42),i=r(12),n=r(7),c=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.CesiumLongPressObserver=function(e){function t(t,r,o){e.call(this,t,r),this.event=t,this.modifier=r,this.eventFactory=o}return c(t,e),t.prototype.init=function(){var e,r;this.event===i.CesiumEvent.LONG_LEFT_PRESS?(e=i.CesiumEvent.LEFT_DOWN,r=i.CesiumEvent.LEFT_UP):this.event===i.CesiumEvent.LONG_RIGHT_PRESS?(e=i.CesiumEvent.RIGHT_DOWN,r=i.CesiumEvent.RIGHT_UP):this.event===i.CesiumEvent.LONG_MIDDLE_PRESS&&(e=i.CesiumEvent.MIDDLE_DOWN,r=i.CesiumEvent.MIDDLE_UP);var o=this.eventFactory.get(e,this.modifier),c=this.eventFactory.get(r,this.modifier),a=o.flatMap(function(e){return n.Observable.of(e).delay(t.LONG_PRESS_EVENTS_DURATION).takeUntil(c)}).publish();return a},t.LONG_PRESS_EVENTS_DURATION=250,t}(o.CesiumPureEventObserver)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.CesiumEventModifier=void 0;!function(e){e[e.ALT=Cesium.KeyboardEventModifier.ALT]="ALT",e[e.CTRL=Cesium.KeyboardEventModifier.CTRL]="CTRL",e[e.SHIFT=Cesium.KeyboardEventModifier.SHIFT]="SHIFT"}(r||(t.CesiumEventModifier=r={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisposableObservable=void 0;var o=r(7),i=function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};t.DisposableObservable=function(e){function t(){e.apply(this,arguments)}return i(t,e),t}(o.Observable)},function(e,t){"use strict"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(44);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=r(61);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var n=r(62);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var c=r(60);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var a=r(12);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var s=r(43);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewerConfiguration=void 0;var o=r(0);t.ViewerConfiguration=function(){function e(){}return Object.defineProperty(e.prototype,"viewerOptions",{get:function(){return this._viewerOptions},set:function(e){this._viewerOptions=e},enumerable:!0,configurable:!0}),e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UtilsModule=void 0;var o=r(0),i=r(47);t.UtilsModule=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{imports:[i.CommonModule],providers:[]}]}],e.ctorParameters=function(){return[]},e}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UtilsService=function(){function e(){}return e.unique=function(e){return e.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[])},e}()},function(e,t){e.exports=require("@angular/platform-browser")},function(e,t){e.exports=require("geodesy")},function(e,t){e.exports=require("json-string-mapper")},function(e,t){e.exports=require("primitive-primitives")},function(e,t){e.exports=require("rxjs/add/observable/from")},function(e,t){e.exports=require("rxjs/add/observable/merge")},function(e,t){e.exports=require("rxjs/add/observable/of")},function(e,t){e.exports=require("rxjs/add/operator/delay")},function(e,t){e.exports=require("rxjs/add/operator/filter")},function(e,t){e.exports=require("rxjs/add/operator/map")},function(e,t){e.exports=require("rxjs/add/operator/merge")},function(e,t){e.exports=require("rxjs/add/operator/mergeMap")},function(e,t){e.exports=require("rxjs/add/operator/publish")},function(e,t){e.exports=require("rxjs/add/operator/switchMap")},function(e,t){e.exports=require("rxjs/add/operator/takeUntil")}])});
//# sourceMappingURL=angular-cesium.umd.js.map