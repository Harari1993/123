{"version":3,"file":"ac-map-layer-provider.component.js","sourceRoot":"","sources":["ac-map-layer-provider.component.ts"],"names":[],"mappings":"OACO,EAAE,SAAS,EAAU,KAAK,EAAE,MAAM,eAAe;OACjD,EAAE,aAAa,EAAE,MAAM,sCAAsC;OAC7D,EAAE,uBAAuB,EAAE,MAAM,8CAA8C;OAC/E,EAAE,OAAO,EAAE,MAAM,qBAAqB;AAkB7C;IA0BC,qCAAoB,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;QANhD,YAAO,GAAmB,EAAE,CAAC;QAE7B,aAAQ,GAA4B,uBAAuB,CAAC,OAAO,CAAC;IAKpE,CAAC;IA1BM,uDAA2B,GAAlC,UAAmC,OAAO;QACzC,MAAM,CAAC,IAAI,MAAM,CAAC,4BAA4B,CAAC,OAAO,CAAC,CAAC;IACzD,CAAC;IAEM,2DAA+B,GAAtC,UAAuC,OAAO;QAC7C,MAAM,CAAC,IAAI,MAAM,CAAC,gCAAgC,CAAC,OAAO,CAAC,CAAC;IAC7D,CAAC;IAEM,yDAA6B,GAApC,UAAqC,OAAO;QAC3C,MAAM,CAAC,IAAI,MAAM,CAAC,8BAA8B,CAAC,OAAO,CAAC,CAAC;IAC3D,CAAC;IAEM,oDAAwB,GAA/B;QACC,MAAM,CAAC,MAAM,CAAC,mCAAmC,CAAC;YACjD,GAAG,EAAE,MAAM,CAAC,cAAc,CAAC,gCAAgC,CAAC;SAC5D,CAAC,CAAC;IACJ,CAAC;IAYD,8CAAQ,GAAR;QACC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,KAAK,uBAAuB,CAAC,OAAO,CAAC,CAAC,CAAC;YAC7F,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;QAC5C,CAAC;QAED,IAAI,QAAQ,CAAC;QAEb,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACvB,KAAK,uBAAuB,CAAC,aAAa;gBACzC,QAAQ,GAAG,2BAA2B,CAAC,2BAA2B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACjF,KAAK,CAAC;YACP,KAAK,uBAAuB,CAAC,iBAAiB;gBAC7C,QAAQ,GAAG,2BAA2B,CAAC,+BAA+B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACrF,KAAK,CAAC;YACP,KAAK,uBAAuB,CAAC,eAAe;gBAC3C,QAAQ,GAAG,2BAA2B,CAAC,6BAA6B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACnF,KAAK,CAAC;YACP,KAAK,uBAAuB,CAAC,OAAO;gBACnC,KAAK,CAAC;YACP;gBACC,QAAQ,GAAG,2BAA2B,CAAC,wBAAwB,EAAE,CAAC;gBAClE,KAAK,CAAC;QACR,CAAC;QACD,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,aAAa,CAAC,kBAAkB,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IACtF,CAAC;IACK,sCAAU,GAA0B;QAC3C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;oBACzB,QAAQ,EAAE,uBAAuB;oBACjC,QAAQ,EAAE,EAAE;iBACZ,EAAG,EAAE;KACL,CAAC;IAEK,0CAAc,GAAmE,cAAM,OAAA;QAC9F,EAAC,IAAI,EAAE,aAAa,GAAG;KACtB,EAF6F,CAE7F,CAAC;IACK,0CAAc,GAA2C;QAChE,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;QAC7B,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;QAC9B,OAAO,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;KAC1B,CAAC;IACF,kCAAC;AAAD,CAAC,AArED,IAqEC","sourcesContent":["declare var Cesium;\nimport { Component, OnInit, Input } from '@angular/core';\nimport { CesiumService } from '../../services/cesium/cesium.service';\nimport { MapLayerProviderOptions } from '../../models/map-layer-provider-options.enum';\nimport { Checker } from '../../utils/checker';\n\n/**\n *  This component is used for adding a map provider service to the map (ac-map).\n *  The component must be a child of <ac-map>.\n *\n *  __Usage :__\n *  ```\n *    &lt;ac-map-layer-provider [options]=\"optionsObject\" [provider]=\"myProvider\"&gt;\n *    &lt;/ac-map-layer-provider&gt;\n *  ```\n *\n *  @param {Object} options - refer to cesium docs for details https://cesiumjs.org/Cesium/Build/Documentation/ImageryProvider.html\n *  @param {MapLayerProviderOptions} provider\n *  @param {Number} index (optional) - The index to add the layer at. If omitted, the layer will added on top of all existing layers.\n */\n\n\nexport class AcMapLayerProviderComponent implements OnInit {\n\tstatic createWebMapServiceProvider(options) {\n\t\treturn new Cesium.WebMapServiceImageryProvider(options);\n\t}\n\n\tstatic createWebMapTileServiceProvider(options) {\n\t\treturn new Cesium.WebMapTileServiceImageryProvider(options);\n\t}\n\n\tstatic createArcGisMapServerProvider(options) {\n\t\treturn new Cesium.ArcGisMapServerImageryProvider(options);\n\t}\n\n\tstatic createOfflineMapProvider() {\n\t\treturn Cesium.createTileMapServiceImageryProvider({\n\t\t\turl: Cesium.buildModuleUrl('Assets/Textures/NaturalEarthII')\n\t\t});\n\t}\n\n\t\n\toptions: {url?: string} = {};\n\t\n\tprovider: MapLayerProviderOptions = MapLayerProviderOptions.OFFLINE;\n\t\n\tindex: Number;\n\n\tconstructor(private cesiumService: CesiumService) {\n\t}\n\n\tngOnInit() {\n\t\tif (!Checker.present(this.options.url) && this.provider !== MapLayerProviderOptions.OFFLINE) {\n\t\t\tthrow new Error('options must have a url');\n\t\t}\n\n\t\tlet provider;\n\n\t\tswitch (this.provider) {\n\t\t\tcase MapLayerProviderOptions.WebMapService:\n\t\t\t\tprovider = AcMapLayerProviderComponent.createWebMapServiceProvider(this.options);\n\t\t\t\tbreak;\n\t\t\tcase MapLayerProviderOptions.WebMapTileService:\n\t\t\t\tprovider = AcMapLayerProviderComponent.createWebMapTileServiceProvider(this.options);\n\t\t\t\tbreak;\n\t\t\tcase MapLayerProviderOptions.ArcGisMapServer:\n\t\t\t\tprovider = AcMapLayerProviderComponent.createArcGisMapServerProvider(this.options);\n\t\t\t\tbreak;\n\t\t\tcase MapLayerProviderOptions.OFFLINE:\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tprovider = AcMapLayerProviderComponent.createOfflineMapProvider();\n\t\t\t\tbreak;\n\t\t}\n\t\tthis.cesiumService.getScene().imageryLayers.addImageryProvider(provider, this.index);\n\t}\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n\tselector: 'ac-map-layer-provider',\n\ttemplate: '',\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: CesiumService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'options': [{ type: Input },],\n'provider': [{ type: Input },],\n'index': [{ type: Input },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}