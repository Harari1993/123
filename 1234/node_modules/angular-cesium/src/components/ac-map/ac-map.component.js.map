{"version":3,"file":"ac-map.component.js","sourceRoot":"","sources":["ac-map.component.ts"],"names":[],"mappings":"OAAO,EAAE,SAAS,EAAqB,UAAU,EAAE,MAAM,EAAE,KAAK,EAAiB,MAAM,eAAe;OAC/F,EAAE,QAAQ,EAAE,MAAM,2BAA2B;OAC7C,EAAE,aAAa,EAAE,MAAM,sCAAsC;OAC7D,EAAE,sBAAsB,EAAE,MAAM,kEAAkE;OAClG,EAAE,uBAAuB,EAAE,MAAM,uDAAuD;OACxF,EAAE,kBAAkB,EAAE,MAAM,yDAAyD;OACrF,EAAE,cAAc,EAAE,MAAM,wCAAwC;AAavE;IAiBC,wBAAoB,cAA6B,EAAU,QAAoB,EAAW,QAAa;QAAnF,mBAAc,GAAd,cAAc,CAAe;QAAU,aAAQ,GAAR,QAAQ,CAAY;QAAW,aAAQ,GAAR,QAAQ,CAAK;QAXvG,gBAAW,GAAW,cAAc,CAAC,oBAAoB,CAAC;QAG1D,gBAAW,GAAW,cAAc,CAAC,oBAAoB,CAAC;QAG1D,eAAU,GAAY,cAAc,CAAC,mBAAmB,CAAC;QAMxD,IAAM,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACxD,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;QACtD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACxC,CAAC;IAED,iCAAQ,GAAR;QACC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACrD,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACrD,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACpD,CAAC;IAED,oCAAW,GAAX,UAAY,OAAsB;QACjC,EAAE,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC;QAC1D,CAAC;IACF,CAAC;IAhCuB,mCAAoB,GAAG,GAAG,CAAC;IAC3B,mCAAoB,GAAG,MAAM,CAAC,iBAAiB,CAAC;IAChD,kCAAmB,GAAG,IAAI,CAAC;IA+B7C,yBAAU,GAA0B;QAC3C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;oBACzB,QAAQ,EAAE,QAAQ;oBAClB,QAAQ,EAAE,2BAA2B;oBACrC,SAAS,EAAE,CAAC,aAAa,EAAE,sBAAsB,EAAE,kBAAkB,EAAE,uBAAuB,EAAE,cAAc,CAAC;iBAC/G,EAAG,EAAE;KACL,CAAC;IAEK,6BAAc,GAAmE,cAAM,OAAA;QAC9F,EAAC,IAAI,EAAE,aAAa,GAAG;QACvB,EAAC,IAAI,EAAE,UAAU,GAAG;QACpB,EAAC,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,QAAQ,EAAG,EAAE,EAAG,EAAC;KACtE,EAJ6F,CAI7F,CAAC;IACK,6BAAc,GAA2C;QAChE,aAAa,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;QACjC,aAAa,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;QACjC,YAAY,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;QAChC,OAAO,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;KAC1B,CAAC;IACF,qBAAC;AAAD,CAAC,AArDD,IAqDC","sourcesContent":["import { Component, OnChanges, OnInit, ElementRef, Inject, Input, SimpleChanges } from '@angular/core';\nimport { DOCUMENT } from '@angular/platform-browser';\nimport { CesiumService } from '../../services/cesium/cesium.service';\nimport { BillboardDrawerService } from '../../services/drawers/billboard-drawer/billboard-drawer.service';\nimport { MapEventsManagerService } from '../../services/map-events-mananger/map-events-manager';\nimport { CesiumEventBuilder } from '../../services/map-events-mananger/cesium-event-builder';\nimport { PlonterService } from '../../services/plonter/plonter.service';\n\n/**\n * This is a map implementation.\n * Every layer should be tag inside ac-map tag\n *\n * @example\n * <ac-map>\n *     <ac-map-layer-provider></ac-map-layer-provider>\n *     <dynamic-ellipse-layer #layer></dynamic-ellipse-layer>\n * </ac-map>\n */\n\nexport class AcMapComponent implements OnChanges, OnInit {\n\tprivate static readonly DEFAULT_MINIMUM_ZOOM = 1.0;\n\tprivate static readonly DEFAULT_MAXIMUM_ZOOM = Number.POSITIVE_INFINITY;\n\tprivate static readonly DEFAULT_TILT_ENABLE = true;\n\n\t\n\tminimumZoom: number = AcMapComponent.DEFAULT_MINIMUM_ZOOM;\n\n\t\n\tmaximumZoom: number = AcMapComponent.DEFAULT_MAXIMUM_ZOOM;\n\n\t\n\tenableTilt: boolean = AcMapComponent.DEFAULT_TILT_ENABLE;\n\n\t\n\tflyTo: any;\n\n\tconstructor(private _cesiumService: CesiumService, private _elemRef: ElementRef,  private document: any) {\n\t\tconst mapContainer = this.document.createElement('div');\n\t\tthis._elemRef.nativeElement.appendChild(mapContainer);\n\t\tthis._cesiumService.init(mapContainer);\n\t}\n\n\tngOnInit() {\n\t\tthis._cesiumService.setMinimumZoom(this.minimumZoom);\n\t\tthis._cesiumService.setMaximumZoom(this.maximumZoom);\n\t\tthis._cesiumService.setEnableTilt(this.enableTilt);\n\t}\n\n\tngOnChanges(changes: SimpleChanges): void {\n\t\tif (changes['flyTo']) {\n\t\t\tthis._cesiumService.flyTo(changes['flyTo'].currentValue);\n\t\t}\n\t}\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n\tselector: 'ac-map',\n\ttemplate: '<ng-content></ng-content>',\n\tproviders: [CesiumService, BillboardDrawerService, CesiumEventBuilder, MapEventsManagerService, PlonterService]\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: CesiumService, },\n{type: ElementRef, },\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'minimumZoom': [{ type: Input },],\n'maximumZoom': [{ type: Input },],\n'enableTilt': [{ type: Input },],\n'flyTo': [{ type: Input },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}