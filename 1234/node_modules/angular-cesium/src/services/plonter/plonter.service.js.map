{"version":3,"file":"plonter.service.js","sourceRoot":"","sources":["plonter.service.ts"],"names":[],"mappings":"OAAO,EAAE,UAAU,EAAE,YAAY,EAAE,MAAM,eAAe;OAEjD,EAAE,OAAO,EAAE,MAAM,cAAc;AAQtC;IAOC;QALQ,sBAAiB,GAAe,EAAE,CAAC;QAGnC,2BAAsB,GAAsB,IAAI,YAAY,EAAE,CAAC;QAGtE,IAAI,CAAC,gBAAgB,GAAG,IAAI,OAAO,EAAe,CAAC;IACpD,CAAC;IAED,sBAAI,iDAAqB;aAAzB;YACC,MAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC;QACpC,CAAC;;;OAAA;IAED,sBAAI,wCAAY;aAAhB;YACC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC;QAC3B,CAAC;;;OAAA;IAED,sBAAI,4CAAgB;aAApB;YACC,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC;QAC/B,CAAC;;;OAAA;IAED,kCAAS,GAAT,UAAU,WAAwB;QACjC,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;QAChC,IAAI,CAAC,iBAAiB,GAAG,WAAW,CAAC,QAAQ,CAAC;QAC9C,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAE1B,IAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE,CAAC;QACnC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC;IAC9B,CAAC;IAED,uCAAc,GAAd,UAAe,MAAgB;QAC9B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,CAAC,MAAM,CAAC,CAAC;QAEtC,IAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE,CAAC;QACnC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAC/C,CAAC;IACK,yBAAU,GAA0B;QAC3C,EAAE,IAAI,EAAE,UAAU,EAAE;KACnB,CAAC;IAEK,6BAAc,GAAmE,cAAM,OAAA,EAC7F,EAD6F,CAC7F,CAAC;IACF,qBAAC;AAAD,CAAC,AA7CD,IA6CC","sourcesContent":["import { Injectable, EventEmitter } from '@angular/core';\nimport { AcEntity } from '../../models/ac-entity';\nimport { Subject } from 'rxjs/Subject';\nimport { EventResult } from '../map-events-mananger/map-events-manager';\n\n/**\n * Service for solving plonter.\n * Used by map-event-manager and plonter context component\n */\n\nexport class PlonterService {\n\tprivate _plonterShown: boolean;\n\tprivate _entitesToPlonter: AcEntity[] = [];\n\tprivate _plonterObserver: Subject<EventResult>;\n\tprivate _eventResult: EventResult;\n\tprivate _plonterChangeNotifier: EventEmitter<any> = new EventEmitter();\n\n\tconstructor() {\n\t\tthis._plonterObserver = new Subject<EventResult>();\n\t}\n\n\tget plonterChangeNotifier(): EventEmitter<any> {\n\t\treturn this._plonterChangeNotifier;\n\t}\n\n\tget plonterShown(): boolean {\n\t\treturn this._plonterShown;\n\t}\n\n\tget entitesToPlonter(): AcEntity[] {\n\t\treturn this._entitesToPlonter;\n\t}\n\n\tplonterIt(eventResult: EventResult) {\n\t\tthis._eventResult = eventResult;\n\t\tthis._entitesToPlonter = eventResult.entities;\n\t\tthis._plonterShown = true;\n\n\t\tthis._plonterChangeNotifier.emit();\n\t\treturn this._plonterObserver;\n\t}\n\n\tresolvePlonter(entity: AcEntity) {\n\t\tthis._plonterShown = false;\n\t\tthis._eventResult.entities = [entity];\n\n\t\tthis._plonterChangeNotifier.emit();\n\t\tthis._plonterObserver.next(this._eventResult);\n\t}\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}